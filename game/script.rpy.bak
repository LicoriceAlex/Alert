define vector = Character('Вектор', color="#cd03c9")
define billy = Character('Билли', color="#ff8b06")
define storyteller = Character('Рассказчик', color="#6453ff")
define aatos = Character('Аатос', color='#00a103')

label start:

    play music ingame_music

    scene elite_building_2_version

    pause 1.0
    
    scene hero_monit with dissolve
    storyteller "Вектор был отчислен из института IT-технологий из-за того, что весь 2-ой курс даже не появлялся на парах"

    scene funeral with dissolve
    storyteller "Все эти прогулы были связаны со смертью его матери от рака желудка"

    scene door with dissolve
    storyteller "Впавший в глубочайшую депрессию, Вектор закрывается в себе"

    scene father with dissolve
    storyteller "Его отцом был влиятельный бизнесмен, которому не было дела до воспитания сына (от первого и неудачного брака), в отличии от умершей матери"
    
    scene pcs with dissolve
    storyteller "Спустя год депрессии после трагедии, Вектор, благодаря деньгам отца, смог обеспечить себя лучшим хакерским оборудованием"

    scene hello_mayhem
    storyteller "Также ему удалось найти в даркнете группировку “Hello, mayhem”, крайне радикально настроенных чёрных хакеров, стремящихся разрушить мировой порядок и явить миру своё Я"

    scene education
    storyteller "На протяжении 2 лет они обучали Вектора всему, что умели сами"

    scene some_person
    storyteller "Наконец лидеры движения дали Вектору первое задание: “Отомстить главному обидчику”, после чего Вектор наконец покажет, что он достоин для посвящения в великий план “Hello, mayhem”"

    scene dont_know
    storyteller "Про этот план он слышит каждый день, но до сих пор ничего не знает..."

    scene room 1 with Fade(0.5, 1.0, 0.5)
    storyteller "Вектор долго думает, что же сподвигло его встать на такой путь."

    scene room 2
    storyteller "Краем глаза он замечает на тумбочке фотографию покойной мамы."

    scene room 3 1080
    vector "Я ненавижу своего отца, ему всегда была безразлична наша семья и мои проблемы"
    
    scene working with dissolve
    storyteller "В порыве ярости Вектор хватает свой ноутбук. Чем больше он нажимает на клавиши клавиатуры, тем глубже он проникает в глубокий интернет в поисках наказания, которое понесёт его отец за несчастную жизнь, полную депрессий и печали после смерти матери Вектора."

    scene transition with dissolve
    pause 2.0

    play music before_the_night
    scene arasaka rocket with dissolve
    storyteller "Эта компания является лидером на мировом рынке в области информационной безопасности, которой владеет отец Вектора"

    scene night 2 with fade
    pause 1.5
    # "'Тёмная ночь, над землёй возвышается здание Арасаки (красными буквами) в котором и стажируется наш гг'"

    scene black
    show billy 4 at right 
    storyteller "Игрок видит молодого парня, со шрамом на правом виске. Он сидит на своём рабочем месте, свет от ноутбука падает ему на лицо (всё помощение заполнено тусклым светом.)"

    hide billy 4

    scene winner
    storyteller "Недавно Билли смог победить в конкурсе среди 10000+ айтишников со всей страны"

    scene building
    storyteller "Теперь он получил возможность стажироваться в одном из зданий такого гиганта на рынке, как Arasaka."

    show billy 4 at right
    
    storyteller "Наш герой почти дописал код, который будет надёжно защищать одну частную организацию от DDoS атак. Помоги ему быстрее справиться с поставленной задачей"
    hide billy 4

    call quiz from _call_quiz

    scene laptop
    storyteller "Билли выдыхает и закрывает ноутбук"

    scene watch
    storyteller "Билли смотрит на часы"

    # "'Часы показывают 3 часа ночи'"

    scene office
    storyteller "Погружённый в свою работу, Билли даже не заметил как офис опустел"
    
    scene coridor_janitor
    storyteller "Где-то вдалеке слышно лишь уборщика"

    play sound alert
    scene office alert
    storyteller "Внезапно все кабинеты заливаются красным светом и раздаётся звук сирены"

    scene office alert on window
    storyteller "Одновременно на всех экранах мониторов вспыхивает надпись “ALERT”"
    stop sound

    scene office
    storyteller "Почти тут же всё смолкает"

    play music before_the_night
    show billy 4
    billy "Что это было? Не прошло и 10 секунд как сирена смолкла и офисы обрели привычные им оттенки. Мне нужно срочно сбегать в серверную, дабы выяснить в чём дело."
    billy "Что же мне сделать первым делом? (Билли берёт свой ноутбук)"
    hide billy 4

    menu:
        storyteller "Билли стоит в огромном офисе и перед ним открывается выбор"
        "Поговорить с уборщиком":
            call janitor
            menu:
                "Подойти к портрету директора компании и немного поразмышлять":
                    call director_portrait
                    menu:
                        "Бежать в серверную":
                            jump server_room
                "Бежать в серверную":
                    jump server_room
        "Подойти к портрету директора компании и немного поразмышлять":
            call director_portrait
            menu:
                "Поговорить с уборщиком":
                    call janitor
                    menu:
                        "Бежать в серверную":
                            jump server_room
                "Бежать в серверную":
                    jump server_room
        "Бежать в серверную":
            jump server_room
    return


label janitor:
    scene coridor_janitor
    "Кадр (наш трек немного приглушается и смешивается с пением уборщика)" 
    storyteller "Билли идёт по тёмному коридору постепенно приближаясь к уборщику (пока он к нему идёт, он слышит как уборщик что-то напевает себе под нос. Можно вставить несколько кадров как он идёт по коридору, чтобы немного растянуть пение уборщика)"

    "Билли подходит к уборщику и обращает внимание на бейджик пожилого человека, на котором написано Аатос (чтобы начать диалог, игрок должен тыкнуть на уборщика)"

    billy "Здравствуйте, Вы не знаете, что слу...??"
    storyteller "Не дав договорить Билли, Аатос перебивает его"
    "Кадр ( пение заканчивается, наш трек продолжается. Тут кадры постоянно меняются на того, кто говорит):"
    aatos "А, это ты! Я ждал тебя. Мне как раз нужен помощник, чтобы разобраться во всём этом paska"
    menu:
        "Стойте, мы разве знакомы?":
            billy "Стойте, мы разве знакомы?"
            aatos "А как же. Я постоянно наблюдаю за вами"
            billy "Простите, что?"
            aatos "На днях я узнал пароль от кое-чего интересного."
            billy "Зачем вы мне это рассказываете?"
            aatos "Мне не нужен помощник, который постоянно задаёт вопросы. Катись отсюда! Не мешай мне работать!"
            billy "Чокнутый"
            aatos "Ты что-то там вякнул сопляк?"
            billy "Нет. Лучше оставлю вас в покое"

        "И чем же я могу вам помочь?":
            billy "И чем же я могу вам помочь?"
            aatos  "У нас в столовой завелись муравьи. Начальство попросило выгнать их. Они могут узнать то, что им не следует."
            billy "В здании сработала сигнализация, я вы думаете о каких-то муравьях?"
            aatos "Оооо, Nuorukainen, это не просто муравьи. Они живые"
            billy "Чокнутый"
            storyteller "Уходит подальше от пожилого мужчины"


    "Уборщик возобновляет своё пение"
    "Если игрок захочет завести диалог с Аатосом ещё раз (тыкая на него), то уборщик просто будет петь, не обращая на гг внимания (можно подписать, мол Аатос погружён в свои мысли и песни так, что не обращает ни на кого внимания)"
    return


label director_portrait:
    storyteller "Билли подходит к портрету Основателя и сверлит его взглядом"

    "Глаз Билли крупным планом"

    storyteller "Мне знаком этот взгляд. Билли охватывает гордость, что он смог пробиться в такую престижную компания, но одновременно он чувствует некую грусть, которую сам не может объяснить"

    storyteller "Смотрит на портрет снизу вверх"
    billy "Интересно, смогу ли я когда-нибудь занять его место?"
    return


label server_room:
    scene coridor
    storyteller "Билли выходит в коридор из которого видна табличка Серверная Туда стрелочка"

    storyteller "Билли бежит по коридор в серверную по дорогу чуть не споткнувшись"

    scene entering_server_room
    storyteller "Билли подбегает к двери в серверную"

    storyteller "Достаёт из кармана карту доступа и вставляет её в защищённую дверь"
    
    play music sinoia_main_theme
    storyteller "Перед ним открывается огромное помещение"

    storyteller "Билли стоит перед огромной комнатой"
    storyteller "Как же он впивается глазами в каждое оборудование в поисках каких-либо аномалий"

    storyteller "На одной из стоек с серверами он замечает мигающую красную лампочку и бежит к ней"
    storyteller "Билли с помощью своего ноутбука подключается к данному серверу"

    
    "Кадр (можно показать как он трудится, глаза бегают по экрану):"
    
    storyteller "И тут его пальцы начинают скользить по клавиатуре ноутбука, который он подключил к  аномальному серверу"
    storyteller "Расшифровав строки кода Билли наконец понимает в чём дело. Тревога выключилась не просто так, что-то подавляет сигнал дистанционно"

    billy "Весьма необычно. Но надо понять, что же вызвало тревогу"
    storyteller "Билли ещё ближе уставился в экран и энергичней нажимает на клавиши"
    storyteller "Билли вновь углубляется в цифровую вселенную , состоящую из строчек кодов"

    storyteller "Билли всё также погружён в свои мысли и экран ноутбука"
    
    "Зрачки Билли показываем нормальными, а потом они резко увеличиваются"

    "Показываем Билли, он стал сильно нервничать и на лбу выступают капли пота"

    storyteller "Спустя 5 минут непрерывной работы Билли находит причину пугающей надписи “Alert”"
    storyteller "В головное здание ‘Арасаки“ летит ракета (можно вставить кадр с летящей ракетой)"
    storyteller "расчёты показывают, что до поражения выбранной цели остаётся каких-то 7 минут (можно вставить отсчёт таймера на ракете)"
    storyteller "Билли понимает, если “Арасака” падёт, то конфиденциальные данные миллионов людей окажутся под угрозой взлома со стороны хакерских группировок (можно вставить кадр, как у людей например пропадают деньги со счетов), а как говорят взломщики: “Нет защиты - нет проблем”"

    menu:
        storyteller "Потрясённый, Билли размышляет, что он может сделать"
        "Рискнуть и попробовать деактивировать ракету":
            return
        "Попробовать выяснить, кто дал одобрение на запуск ракеты (быть может это поможет из обезвредить)":
            return
# Тут развилка (2 пути, как только игрок выбирает путь начинается трек p.t. adamczyk - rite of passage)

# 1-ый путь. Рискнуть и попробовать деактивировать ракету
# Мини игра в которой две концовки.
#      1-ая: Ракету удаётся деактивировать. Она падает в местное озеро
#      Конец игры.

#      2-ая: Ракету не удаётся деактивирова. “Арасака” пала. Билли сделал всё, что было в его силах
#      Конец игры.

# 2-ой путь. Попробовать выяснить, кто дал одобрение на запуск ракеты (быть может это поможет из обезвредить)
# Мини игра в которой две концовки.



label quiz:
    play music mas_que_nada
    $ quiz_score = 0
    "Спам распространяет поддельные сообщения от имени банков или финансовых компаний, целью которых является сбор логинов, паролей и пин-кодов пользователей:"
    menu:
        "черный пиар":
            "Неправильный ответ"
        "фишинг":
            "Правильный ответ"
            $ quiz_score += 1
        "нигерийские письма":
            "Неправильный ответ"
        "пустые письма":
            "Неправильный ответ"

    "Кто в конечном счете несет ответственность за гарантии того, что данные классифицированы и защищены?"
    menu:
        "Владельцы данных":
            "Неправильный ответ"
        "Пользователи":
            "Неправильный ответ"
        "Администраторы":
            "Неправильный ответ"
        "Руководство":
            "Правильный ответ"
            $ quiz_score += 1
    
    menu:
        "Символы шифруемого текста последовательно складываются с символами некоторой специальной последовательности, это метод:"
        "гаммирования":
            "Правильный ответ"
            $ quiz_score += 1
        "подстановки":
            "Неправильный ответ"
        "кодирования":
            "Неправильный ответ"
        "аналитических преобразований":
            "Неправильный ответ"

    menu:
        "Что такое CobiT и как он относится к разработке систем информационной безопасности и программ безопасности?"
        "Список стандартов, процедур и политик для разработки программы безопасности":
            "Неправильный ответ"
        "Текущая версия ISO 17799":
            "Неправильный ответ"
        "Структура, которая была разработана для снижения внутреннего мошенничества в компаниях":
            "Неправильный ответ"
        "Открытый стандарт, определяющий цели контроля":
            "Правильный ответ"
            $ quiz_score += 1
    
    menu:
        "Если различным группам пользователей с различным уровнем доступа требуется доступ к одной и той же информации, какое из указанных ниже действий следует предпринять руководству?"
        "Снизить уровень безопасности этой информации для обеспечения ее доступности и удобства использования":
            "Неправильный ответ"
        "Требовать подписания специального разрешения каждый раз, когда человеку требуется доступ к этой информации":
            "Неправильный ответ"
        "Улучшить контроль за безопасностью этой информации":
            "Правильный ответ"
            $ quiz_score += 1
        "Снизить уровень классификации этой информации":
            "Неправильный ответ"

    show billy 4 at right

    if quiz_score >= 4:
        billy "Жизнь полна боли... но есть в ней также любовь, красота и код. Неужели я закончил"
        "Поздравляю, ты правильно ответил на вопросы"
        $ win = True
    else:
        billy "Ты должен быть готов к тому, что можешь быть неправ. Эххх, разберусь с этим завтра"
        "Ты неправильно ответил на вопросы....."
        $ win = False

    stop music fadeout 1.0
    return
